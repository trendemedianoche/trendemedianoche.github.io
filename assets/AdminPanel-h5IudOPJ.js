import{r as t,s as i,j as e}from"./index-DwFGreWk.js";function f(){const[n,l]=t.useState(null),[c,u]=t.useState([]),[d,r]=t.useState(""),h="";t.useEffect(()=>{o()},[]);const o=async()=>{const{data:s,error:a}=await i.storage.from("trendemedianoche_assets").list(h,{limit:100,offset:0});a?(console.error("Error al listar imágenes:",a.message),r("No se pudieron cargar las imágenes.")):(u(s||[]),(s||[]).length===0?r("No hay imágenes cargadas."):r(""))},g=async()=>{if(!n){r("Selecciona un archivo primero.");return}const s=n.name,{error:a}=await i.storage.from("trendemedianoche_assets").upload(s,n,{upsert:!0});a?r(`Error al subir: ${a.message}`):(r(`Archivo subido: ${n.name}`),l(null),o())},x=async s=>{const a=s,{error:m}=await i.storage.from("trendemedianoche_assets").remove([a]);m?r(`Error al eliminar: ${m.message}`):(r(`Archivo eliminado: ${s}`),o())},p=s=>{const a=s;return i.storage.from("trendemedianoche_assets").getPublicUrl(a).publicUrl};return e.jsxs("div",{className:"photo-admin",children:[e.jsx("h2",{children:"Administrar Fotos"}),e.jsxs("div",{className:"upload-section",children:[e.jsx("input",{type:"file",onChange:s=>l(s.target.files[0])}),e.jsx("button",{onClick:g,children:"Subir"})]}),d&&e.jsx("p",{className:"message",children:d}),c.length>0&&e.jsx("div",{className:"images-grid",children:c.map(s=>e.jsxs("div",{className:"image-card",children:[e.jsx("img",{src:p(s.name),alt:s.name}),e.jsx("p",{children:s.name}),e.jsx("button",{onClick:()=>x(s.name),children:"Eliminar"})]},s.name))})]})}function j(){return e.jsxs("div",{children:[e.jsx("h2",{children:"Editar textos y valores"}),e.jsx("p",{children:"Aquí puedes agregar tu formulario para editar textos del sitio."})]})}function v(){return e.jsxs("div",{children:[e.jsx("h2",{children:"Gestión de secciones"}),e.jsx("p",{children:"Aquí puedes agregar tu módulo para administrar secciones dinámicas."})]})}function A(){return console.log("AdminPanel cargado"),e.jsxs("div",{style:{padding:"2rem"},children:[e.jsx("h1",{children:"Panel de Administración"}),e.jsx(j,{}),e.jsx(f,{}),e.jsx(v,{})]})}export{A as default};
