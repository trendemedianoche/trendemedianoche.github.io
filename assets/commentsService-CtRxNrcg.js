import{s as t}from"./index-Qq9GdPPQ.js";async function s(){console.log("ğŸ” Cargando posts del blog...");const{data:o,error:e}=await t.from("blog_posts").select("*").eq("published",!0).order("created_at",{ascending:!1});return e?(console.error("âŒ Error cargando posts:",e),[]):(console.log("âœ… Posts cargados:",o?.length||0),o||[])}async function c(){console.log("ğŸ” Cargando todos los posts...");const{data:o,error:e}=await t.from("blog_posts").select("*").order("created_at",{ascending:!1});return e?(console.error("âŒ Error cargando posts:",e),[]):(console.log("âœ… Posts cargados:",o?.length||0),o||[])}async function l(o){console.log("ğŸ’¾ Creando nuevo post...");const{data:e,error:r}=await t.from("blog_posts").insert([{title:o.title,content:o.content,author:o.author,published:o.published||!1,created_at:new Date().toISOString()}]).select();if(r)throw console.error("âŒ Error creando post:",r),r;return console.log("âœ… Post creado:",e),e[0]}async function i(o,e){console.log("ğŸ’¾ Actualizando post:",o);const{data:r,error:n}=await t.from("blog_posts").update(e).eq("id",o).select();if(n)throw console.error("âŒ Error actualizando post:",n),n;return console.log("âœ… Post actualizado:",r),r[0]}async function d(o){console.log("ğŸ—‘ï¸ Eliminando post:",o);const{error:e}=await t.from("blog_posts").delete().eq("id",o);if(e)throw console.error("âŒ Error eliminando post:",e),e;console.log("âœ… Post eliminado")}async function g(o,e){console.log("ğŸ”„ Cambiando estado de publicaciÃ³n:",o,e);const{data:r,error:n}=await t.from("blog_posts").update({published:e}).eq("id",o).select();if(n)throw console.error("âŒ Error actualizando estado:",n),n;return console.log("âœ… Estado actualizado:",r),r[0]}async function m(o){console.log("ğŸ” Cargando comentarios del post:",o);const{data:e,error:r}=await t.from("blog_comments").select("*").eq("post_id",o).order("created_at",{ascending:!0});return r?(console.error("âŒ Error cargando comentarios:",r),[]):(console.log("âœ… Comentarios cargados:",e?.length||0),e||[])}async function u(){console.log("ğŸ” Cargando todos los comentarios...");const{data:o,error:e}=await t.from("blog_comments").select(`
      *,
      blog_posts (
        title
      )
    `).order("created_at",{ascending:!1});return e?(console.error("âŒ Error cargando comentarios:",e),[]):(console.log("âœ… Comentarios cargados:",o?.length||0),o||[])}async function f(){console.log("ğŸ” Cargando comentarios pendientes...");const{data:o,error:e}=await t.from("blog_comments").select(`
      *,
      blog_posts (
        title
      )
    `).eq("approved",!1).order("created_at",{ascending:!1});return e?(console.error("âŒ Error cargando comentarios pendientes:",e),[]):(console.log("âœ… Comentarios pendientes:",o?.length||0),o||[])}async function p(o){console.log("ğŸ’¾ Creando comentario...");const{data:e,error:r}=await t.from("blog_comments").insert([{post_id:o.post_id,author_name:o.author_name,author_email:o.author_email,content:o.content,approved:!0,created_at:new Date().toISOString()}]).select();if(r)throw console.error("âŒ Error creando comentario:",r),r;return console.log("âœ… Comentario creado (pendiente de aprobaciÃ³n):",e),e[0]}async function _(o){console.log("âœ… Aprobando comentario:",o);const{data:e,error:r}=await t.from("blog_comments").update({approved:!0}).eq("id",o).select();if(r)throw console.error("âŒ Error aprobando comentario:",r),r;return console.log("âœ… Comentario aprobado:",e),e[0]}async function b(o){console.log("ğŸ—‘ï¸ Eliminando comentario:",o);const{error:e}=await t.from("blog_comments").delete().eq("id",o);if(e)throw console.error("âŒ Error eliminando comentario:",e),e;console.log("âœ… Comentario eliminado")}async function h(o){console.log("ğŸ” Contando comentarios del post:",o);const{count:e,error:r}=await t.from("blog_comments").select("*",{count:"exact",head:!0}).eq("post_id",o);return r?(console.error("âŒ Error contando comentarios:",r),0):(console.log("âœ… Total de comentarios:",e),e||0)}export{u as a,f as b,l as c,d,_ as e,b as f,c as g,s as h,h as i,p as j,m as k,g as t,i as u};
